<!--pages/detail/detail.wxml-->
<view class="container">
  <view class="detail-card card">
    <!-- ç±»å‹å’Œæ—¶é—´ -->
    <view class="header">
      <view class="type-tag tag tag-primary">{{need.type}}</view>
      <view class="time-info text-gray">{{need.date}} {{need.time}}</view>
    </view>
    
    <!-- æ ‡é¢˜ -->
    <view class="title">{{need.title}}</view>
    
    <!-- ä½ç½® -->
    <view class="info-item">
      <text class="icon">ğŸ“</text>
      <text class="label">æ´»åŠ¨åœ°ç‚¹ï¼š</text>
      <text class="value">{{need.location}}</text>
    </view>
    
    <!-- æ—¶é—´ -->
    <view class="info-item">
      <text class="icon">ğŸ•’</text>
      <text class="label">æ´»åŠ¨æ—¶é—´ï¼š</text>
      <text class="value">{{need.date}} {{need.time}}</text>
    </view>
    
    <!-- è´¹ç”¨ -->
    <view class="info-item">
      <text class="icon">ğŸ’°</text>
      <text class="label">è´¹ç”¨è¯´æ˜ï¼š</text>
      <text class="value text-primary">{{need.cost}}</text>
    </view>
    
    <!-- è¯¦ç»†æè¿° -->
    <view class="description-section">
      <view class="section-title">è¯¦ç»†æè¿°</view>
      <view class="description-content">{{need.description}}</view>
    </view>
    
    <!-- å‘å¸ƒè€…ä¿¡æ¯ -->
    <view class="publisher-section">
      <view class="section-title">å‘å¸ƒè€…ä¿¡æ¯</view>
      <view class="publisher-info">
        <image class="avatar" src="{{need.publisherAvatar}}" mode="aspectFill"></image>
        <view class="info">
          <view class="name">{{need.publisherName}}</view>
          <view class="time text-gray">å‘å¸ƒäº {{need.createTime}}</view>
        </view>
      </view>
    </view>
    
    <!-- è·å–å¾®ä¿¡å·æŒ‰é’® -->
    <button 
      class="btn-primary contact-btn" 
      bindtap="showWechatId"
      wx:if="{{!wechatIdVisible}}"
    >
      è·å–å¾®ä¿¡å·
    </button>
    
    <!-- å¾®ä¿¡å·æ˜¾ç¤º -->
    <view wx:else class="wechat-info">
      <text class="icon">ğŸ’¬</text>
      <text class="label">å¾®ä¿¡å·ï¼š</text>
      <text class="wechat-id">{{need.wechatId}}</text>
      <button class="copy-btn" bindtap="copyWechatId" data-id="{{need.wechatId}}">å¤åˆ¶</button>
    </view>
  </view>
</view>
