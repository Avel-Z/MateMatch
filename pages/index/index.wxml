<!--pages/index/index.wxml-->
<view class="container">
  <!-- æ ‡é¢˜ -->
  <view class="page-title">é™„è¿‘çš„æ­å­</view>
  
  <!-- éœ€æ±‚åˆ—è¡¨ -->
  <scroll-view 
    class="need-list" 
    scroll-y 
    refresher-enabled="{{true}}"
    refresher-triggered="{{refreshing}}"
    bindrefresherrefresh="onRefresh"
    bindscrolltolower="onLoadMore"
  >
    <view wx:if="{{needList.length > 0}}">
      <view 
        wx:for="{{needList}}" 
        wx:key="id" 
        class="need-card"
        bindtap="goToDetail"
        data-id="{{item.id}}"
      >
        <!-- å¡ç‰‡å¤´éƒ¨ -->
        <view class="card-header">
          <view class="type-tag tag tag-primary">{{item.type}}</view>
          <view class="time-info text-gray">{{item.date}} {{item.time}}</view>
        </view>
        
        <!-- æ ‡é¢˜ -->
        <view class="card-title">{{item.title}}</view>
        
        <!-- ä½ç½® -->
        <view class="location">
          <text class="icon">ğŸ“</text>
          <text>{{item.location}}</text>
        </view>
        
        <!-- æè¿° -->
        <view class="description text-gray">{{item.description}}</view>
        
        <!-- è´¹ç”¨ -->
        <view class="cost">
          <text class="icon">ğŸ’°</text>
          <text class="text-primary">{{item.cost}}</text>
        </view>
        
        <!-- å‘å¸ƒè€…ä¿¡æ¯ -->
        <view class="publisher">
          <image class="avatar" src="{{item.publisherAvatar}}" mode="aspectFill"></image>
          <text class="name">{{item.publisherName}}</text>
          <text class="time text-gray">{{item.createTime}}</text>
        </view>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view wx:else class="empty-state">
      <text class="empty-icon">ğŸ“‹</text>
      <text class="empty-text">æš‚æ— éœ€æ±‚ï¼Œå¿«å»å‘å¸ƒä¸€ä¸ªå§ï¼</text>
    </view>
    
    <!-- åŠ è½½æ›´å¤šæç¤º -->
    <view wx:if="{{hasMore}}" class="loading-more">åŠ è½½æ›´å¤š...</view>
    <view wx:else class="no-more">æ²¡æœ‰æ›´å¤šäº†</view>
  </scroll-view>
</view>
