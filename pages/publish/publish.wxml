<!--pages/publish/publish.wxml-->
<view class="container">
  <view class="page-title">发布需求</view>
  
  <view class="form-card card">
    <form bindsubmit="onSubmit">
      <!-- 活动类型 -->
      <view class="form-item">
        <view class="label required">活动类型</view>
        <picker 
          mode="selector" 
          range="{{typeList}}" 
          value="{{typeIndex}}"
          bindchange="onTypeChange"
        >
          <view class="picker">
            {{typeList[typeIndex] || '请选择活动类型'}}
          </view>
        </picker>
      </view>
      
      <!-- 活动标题 -->
      <view class="form-item">
        <view class="label required">活动标题</view>
        <input 
          class="input" 
          placeholder="简短描述你的需求" 
          value="{{formData.title}}"
          bindinput="onTitleInput"
          maxlength="50"
        />
      </view>
      
      <!-- 活动地点 -->
      <view class="form-item">
        <view class="label required">活动地点</view>
        <input 
          class="input" 
          placeholder="请输入活动地点" 
          value="{{formData.location}}"
          bindinput="onLocationInput"
        />
      </view>
      
      <!-- 活动日期 -->
      <view class="form-item">
        <view class="label required">活动日期</view>
        <picker 
          mode="date" 
          value="{{formData.date}}"
          start="{{minDate}}"
          bindchange="onDateChange"
        >
          <view class="picker">
            {{formData.date || '请选择日期'}}
          </view>
        </picker>
      </view>
      
      <!-- 活动时间 -->
      <view class="form-item">
        <view class="label required">活动时间</view>
        <picker 
          mode="time" 
          value="{{formData.time}}"
          bindchange="onTimeChange"
        >
          <view class="picker">
            {{formData.time || '请选择时间'}}
          </view>
        </picker>
      </view>
      
      <!-- 详细描述 -->
      <view class="form-item">
        <view class="label required">详细描述</view>
        <textarea 
          class="textarea" 
          placeholder="详细描述你的需求和期望..." 
          value="{{formData.description}}"
          bindinput="onDescriptionInput"
          maxlength="500"
          show-confirm-bar="{{false}}"
        />
        <view class="text-count">{{formData.description.length}}/500</view>
      </view>
      
      <!-- 费用说明 -->
      <view class="form-item">
        <view class="label required">费用说明</view>
        <input 
          class="input" 
          placeholder="如：AA制、免费等" 
          value="{{formData.cost}}"
          bindinput="onCostInput"
        />
      </view>
      
      <!-- 提交按钮 -->
      <button class="btn-primary submit-btn" formType="submit">发布需求</button>
    </form>
  </view>
</view>
